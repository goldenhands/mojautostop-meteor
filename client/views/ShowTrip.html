<template name="ShowTrip">
	<div id="show-trip">
		{{> RouteHead}}

		{{> RouteBody}}

		{{> RouteStats}}

		{{> FbComments}}

		{{> Footer}}
	</div>
</template>

<template name="RouteHead">
	<header>
		<section class="top-menu">
			{{> StaticTopBar}}
		</section>

		<section class="map">
			<div id="map-container"></div>
		</section>

		<section class="stats">
			<div>
				<div class="container title-container">
					<div class="row">
						<div class="col-xs-12">
							<h1>
								{{ name }}
							</h1>
						</div>
					</div>
				</div>

				{{> RouteCommonStats}}
			</div>
		</section>
	</header>
</template>

<template name="PrintProfile">
	<div class="print-profile">
		<img src="{{ source.profile.photo }}" class="avatar-big img-circle" style="display: inline-block;" />
		<div style="display: inline-block;">
			<a>
				{{#if showUserName}}
					{{ source.profile.firstName }} {{ source.profile.lastName }}
				{{else}}
					{{ source.profile.specialNick }}
					<small>
						<a href="{{ source.profile.specialUrl }}">Strona autora</a>
					</small>
				{{/if}}
			</a>
		</div>
	</div>
</template>

<template name="RouteCommonStats">
	<div class="container stats-container">
		<table style="width: 100%;">
			<tr>
				{{#if showDuration}}
					<td style="text-align: right; width:100px;">
						{{> PlaceKitten}}
					</td>
					<td style="text-align: left; width:100px;">
						{{ duration }} dni
					</td>
				{{/if}}
				<td style="text-align: right; width:100px;">
					{{> PlaceKitten}}
				</td>
				<td style="text-align: left; width:100px;">
					{{ parseInt stats.distance }} km
				</td>
				{{#if showDistanceDivDuration }}
					<td style="text-align: right; width:100px;">
						{{> PlaceKitten}}
					</td>
					<td style="text-align: left; width:100px;">
						{{ distanceDivDuration }} km / dzień
					</td>
				{{/if}}
				{{#if showSummaricWaitingTime}}
					<td style="text-align: right; width:100px;">
						{{> PlaceKitten}}
					</td>
					<td style="text-align: left; width:100px;">
						{{ sumaricWaitingTime }} czekania
					</td>
				{{/if}}
				<td style="text-align: right; width:100px;">
					{{> PlaceKitten}}
				</td>
				<td style="text-align: left; width:100px;">
					{{ co2 }} CO<sub>2</sub>
				</td>
			</tr>
		</table>
	</div>
</template>

<template name="PlaceKitten">
	<img src="/big_logo.png" width="100px" height="50px">
</template>

<template name="RouteBody">
	<article>
		<div class="container">
			<div class="row">
				<div class="col-xs-12 show-timeline">
					<table style="">
						{{#each points}}
							<tr>
								<td class="route-desc">
									{{#unless isEnd}}
										{{> RB_RouteDesc}}
									{{/unless}}
								</td>
								<td class="middle" style="">
									<div class="point point-{{ type }}">
										<div class="point-badge">
											{{{ pointTypeHtml }}}
										</div>
									</div>
									{{#unless isEnd}}
										<div class="route" style="min-height: {{ logLength route.stats.distance }}px;">
										</div>
									{{/unless}}
								</td>
								<td class="point-desc">
									{{> RB_PointDesc}}
								</td>
							</tr>
						{{/each}}
					</table>
				</div>
			</div>
		</div>
	</article>
</template>

<template name="RB_PointDesc">
	<div>
		<h4>
			{{ name }}
		</h4>
	</div>
	<div>
		<h5>
			{{ desc.text }}
		</h5>
	</div>
	<div>
		<div class="container-fluid image-files">
			<div class="row">
				{{#each valueify desc.pictures}}
					<div class="col-xs-3 image-file-cell">
						<div class="fancybox-container">
							<div href="{{ value }}" class="fancybox-image">
								<img src="{{ value }}" />
							</div>
						</div>
					</div>
				{{/each}}
			</div>
		</div>
	</div>
</template>

<template name="RB_RouteDesc">
	<div>
		<h4>
			{{ parseInt route.stats.distance }} km <small>(czekałem: {{ parseDuration route.waitingTime }})</small>
		</h4>
	</div>
	<div>
		<h5>
			{{ route.desc.text }}
		</h5>
	</div>
	<div>
		<div class="container-fluid image-files">
			<div class="row">
				{{#each valueify route.desc.pictures}}
					<div class="col-xs-3 image-file-cell">
						<div class="fancybox-container">
							<div href="{{ value }}" class="fancybox-image">
								<img src="{{ value }}" />
							</div>
						</div>
					</div>
				{{/each}}
			</div>
		</div>
	</div>
</template>

<template name="FbComments">
	<section class="container">
		<div class="row">
			<div class="col-xs-12">
				komentarze
			</div>
		</div>
	</section>
</template>

<template name="RouteStats">
	<section class="container-fluid gray-bkg">
		<div class="row">
			<div class="col-xs-12">
				<div class="container">
					<div class="row">
						<div class="col-xs-12">
							statystyki
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
</template>